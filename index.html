<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>2016 BWSI Report</title>

        <!-- CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="static/index.css">

        <link rel="icon" href="static/img/favicon.png">

        <meta name="author" content="Haicheng Charles Zhao">
        <meta name="description" content="My experience at the 2016 Beaver Works Summer Institute.">
        <meta name="theme-color" content="#00796b">
        <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

        <!-- Scripts -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    </head>

    <body>
        <header>
            <nav>
                <div class="nav-wrapper white">
                <!--<a class="brand-logo page-title center">BWSI Report</a>-->
                    <a data-activates="slide-out" class="button-collapse waves-effect waves-light"><i class="material-icons">menu</i></a>
                    <ul id="slide-out" class="side-nav fixed">
                        <li><a href="#overview">Overview</a></li>
                        <li class="no-padding">
                            <ul class="collapsible collapsible-accordion">
                                <li>
                                    <a class="collapsible-header">Weekly Experiences</a>
                                    <div class="collapsible-body">
                                        <ul>
                                            <li><a href="#week1">Week 1</a></li>
                                            <li><a href="#week2">Week 2</a></li>
                                            <li><a href="#week3">Week 3</a></li>
                                            <li><a href="#week4">Week 4</a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#conclusions">Technical Conclusions</a></li>
                        <li><a href="#reflections">Personal Reflections</a></li>
                    </ul>
                </div>
            </nav>
       </header>

        <main>
            <div id="overview" class="valign-wrapper scrollspy">
                <img id="overview-bg" src="static/img/background.png">
                <a href="https://beaverworks.ll.mit.edu/CMS/bw/" target="_blank"><img id="bw-logo" src="static/img/bw.png" width=300></a>
                <div class="valign center-align overview-content container">
                    <h1>2016 BWSI Report</h1>
                    <p>Haicheng Charles Zhao</p>
                    <p>The 2016 MIT Lincoln Laboratory Beaver Works Summer Institute (BWSI) was a four-week program that sought to expose high school students, mostly rising seniors, to the rapidly advancing field of autonomous vehicles. The primary component of the program was programming a RACECAR (Rapid Autonomous Complex-Environment Competing Ackermann-Steering Robot) within teams of five to six. Our RACECARs were approximately 1/10th the size of an actual car and were mounted with various advanced sensors. The program also included daily seminars in which prominent speakers described their work and explained robotics concepts. For example, several of these speakers were from the NASA Jet Propulsion Laboratory. In addition to the technical side of BWSI, the program also emphasized communication skills through bi-weekly communication seminars. In these, we learned how to effectively cooperate in a team on complex, multifaceted projects.</p>
                </div>
                <div class="overlay-screen"></div>
                <div class="down-btn center-align"><a href="#weekly"><i class="material-icons arrow large grey-text text-darken-2">expand_more</i></a></div>
            </div>

            <div id="weekly" class="section scrollspy container">
                <h3 class="center-align">Weekly Experiences</h3>
                <p>We focused on a different aspect of programming autonomous vehicles during each of the four weeks. In the first week, we became familiar with the Robot Operating System (ROS) and how to control our cars. In week two, we learned about perception and image processing. In week three, we learned about autonomous exploration and obstacle evasion. Lastly, we learned about localization and mapping.</p>
                <div id="week1" class="scrollspy">
                    <h4>Week 1</h4>
                    <p>The main goal of the first week was to gain familiarity with the RACECARs and with the Robot Operating System (ROS). The week concluded with a wall-following drag race.</p>
                    <p>ROS is an open source framework which provides many tools and libraries that greatly ease robot software development (http://www.ros.org/about-ros/). It is well-established and used in industry. For example, the NASA/GM Robonaut 2 aboard the International Space Station runs ROS (ROS book). ROS's guiding principle is modularity, which is one of the reasons for its use in complex projects. A ROS package consists of nodes, which are simply programs, that perform tasks and communicate to each other through messages. This peer-to-peer structure is what gives ROS its modularity, which greatly simplifies delegating work and testing.</p>
                    <p>Kyle Edelman from the NASA Jet Propulsion Laboratory (JPL) gave two lectures on control systems. The goal of a controller is to bring the error, which is calculated given the desired state and the current state, to zero. In open-loop control, the controller only takes in the desired state as input, while in closed-loop control, the controller also takes in output from sensors as input. In other words, closed-loop control takes feedback whereas open-loop control does not.</p>
                    <img class="report-img" src="static/img/controller.png">
                    <p>Edelman explained two different controllers: bang-bang and proportional-integral-derivative (PID). Bang-bang is the simplest type of controller, but it may never reach a steady state. A bang-bang controller consists of several discrete groups of inputs that each produce a certain, hard-coded output. A robot whose direction is controlled by a bang-bang controller may produce the following position vs. time graph:</p>
                    <img class="report-img" src="static/img/bangbang.png">
                    <p>On the other hand, PID controllers produce an output based on the error, the integral of the error with respect to time, and the derivative of the error with respect to time. Formally:</p>
                    math
                    <p>where Kp, Ki, and Kd are nonnegative coefficients for the proportional, integral, and derivative terms, respectively. The proportional term is the main term, the integral term helps to drive the error to zero more quickly, and the derivative term dampens the controller to provide stability. In unstable systems, the error gradually increases as the controller continuously overshoots the desired state. An unstable system may produce a graph like the following:</p>
                    <img class="report-img" src="static/img/unstable.png">
                    <p>On the other hand, a properly tuned PID controller would produce results like the following, eventually resulting in a steady state:</p>
                    <img class="report-img" src="static/img/stable.png">
                    <p>The coefficients are generally tuned empirically. To do so, initially only have a proportional term and increase Kp until the system becomes unstable. Then lower Kp so that the system becomes stable and add an integral term, increasing Ki until the system reaches a steady state in reasonable time. Then add a derivative term, increasing Kd until the system is stable.</p>
                    <p>The challenge for the week was to use our knowledge of control systems and ROS to program a wall-follower. Our wall-follower used data from a Lidar as input. The Lidar gathers data along a 2-dimensional plane and returns a list of ranges, which are distances to objects. In total, it returns 1081 evenly spaced ranges over 270°, essentially giving points in polar coordinates. One problem was to figure out the car’s perpendicular distance to the wall. We had to consider that the car would not always be parallel to the wall, and in fact could likely be at quite a steep angle to the wall. We first tried to come up with a solution involving triangulation. However, a team member realized that the car’s perpendicular distance to the wall is simply the closest range returned. Thus, our program was able to determine the car’s perpendicular distance to the wall much more simply and perhaps more reliably than most other teams.</p>
                    <p>The next part was programming a controller for the car’s steering angle. We started off creating a bang-bang controller that worked but was far from optimal as it drove from side to side. We then created a PID controller. We needed to tune the PID values such that the car would stay reasonably close to the wall without ever hitting it. Through experimentation, our coefficients were Kp=0.5, Ki=0.1, Kd=0.05. Our car was successfully able to follow a wall, along with following curves along the wall.</p>
                    <p>Lastly, we created a safety node. This node listened to the Lidar’s scan topic and backed up the car if it came too close to an object. Using a sliding window algorithm, the safety node was able to discern narrow objects such as poles while also accounting for noise in the Lidar’s data. The sliding window algorithm searches for strings of similarly far away points and detects these as objects, but accounts for noise by allowing for some discontinuity along the objects. The safety node was left constantly running, as it would override all the other nodes and prevent the car from crashing into objects.</p>
                </div>
                <div id="week2" class="scrollspy">
                    <h4>Week 2</h4>
                </div>
                <div id="week3" class="scrollspy">
                    <h4>Week 3</h4>
                </div>
                <div id="week4" class="scrollspy">
                    <h4>Week 4</h4>
                </div>
            </div>

            <div id="conclusions" class="section scrollspy container">
                <h3 class="center-align">Technical Conclusions</h3>
            </div>

            <div id="reflections" class="section scrollspy container">
                <h3 class="center-align">Personal Reflections</h3>
            </div>
        </main>

        <footer class="footer-copyright grey darken-3 white-text center-align">
            Made with &nbsp;<i class="fa fa-heart red-text text-lighten-2 tooltipped animated infinite pulse" data-position="top" data-delay="0" data-tooltip="Thanks for visiting!"></i>&nbsp; by Charles Zhao
        </footer>

        <!-- Scripts -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/scrollReveal.js/3.2.0/scrollreveal.min.js"></script>
        <script type="text/javascript" src="https://use.fontawesome.com/6410c3e3d5.js"></script>
        <script type="text/javascript" src="static/index.js"></script>
    </body>
</html>
